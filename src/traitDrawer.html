<template>
  <div
    class="slds-grid slds-wrap slds-is-fixed slds-grid_vertical-align-start slds-grid_align-center trait-filter-column">
    <div class='slds-col slds-size_1-of-1 drawer-title'>
      Traits by Category
    </div>
    <div class='slds-col slds-size_1-of-1'>
      <div class="filter-section-row">
        <label for="categories">Filter...</label>
        <input type='text' id='filter' onkeyup={onFilterChange}></input>
      </div>
      <div class="filter-section-row">
        <label for="categories">Category</label>
        <select id="categories" onchange={onSelectCategory}>
          <option value=''></option>
          <template for:each={allCategories} for:item='c'>
            <option key={c.cat} value={c.cat}>{c.cat}</option>
          </template>
        </select>
      </div>
      <div class="filter-section-row">
        <label for="subCats">Sub Category</label>
        <select id="subcats" onchange={onSelectSubCategory}>
          <option value=''></option>
          <template for:each={subCategories} for:item='sc'>
            <option key={sc} value={sc}>{sc}</option>
          </template>
        </select>
      </div>
      <div class="directions-section-row">
        {directions}
      </div>
    </div>
    <div class='slds-col slds-size_1-of-1 filtered-trait-area'>
      <template for:each={traits} for:item='t'>
        <div id='{t.TRAIT_ID}' key={t.TRAIT_ID} class="selectable-trait" draggable=true ondragstart={onDragStart}
          trait={t}>
          <div class='trait-name'>{t.ALIAS}</div>
          <div class='taxonomy-area'>
            <span class='cat-name'>{t.CATEGORY}</span>
            &gt;
            <span class="subcat-name">{t.SUB_CATEGORY}</span>
          </div>
        </div>
      </template>
    </div>
  </div>
</template>